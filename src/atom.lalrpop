use std::str::FromStr;
use token::*;

grammar;

pub Expr: Expr = {
    "(" <Expr*>")" => Expr::List(<>),
    Atom => Expr::from(<>),
};

pub Atom: Atom = {
    Op,
    Num,
};

pub Op: Atom = {
    r"(?:\+|-|\*|/)" => Atom::from(Operator::parse(<>).unwrap()),
};

pub Num: Atom = {
    r"[0-9]+" => Atom::from(i64::from_str(<>).unwrap()),
};
